params {
    // Input options
    genome              = null
    reads               = null
    single_end          = false

    // References
    genome_dir          = null

    // Output options
    outdir              = 'results'
    
    // Alignment options
    aligner             = 'bowtie2'   // One of ['bowtie2', 'hisat2', 'minimap2']
    
    // Bismark parameters
    non_directional     = false
    pbat                = false
    comprehensive       = false
    
    // Extraction options
    ignore_r1           = 0
    ignore_r2           = 0
    ignore_3prime_r1    = 0
    ignore_3prime_r2    = 0
    
    // Reporting options
    skip_deduplication  = false
    skip_M_bias         = false
    cytosine_report     = false
    
    // Workflow control
    genome_preparation_only = false
    
    // Resource allocation
    max_memory          = '128.GB'
    max_cpus            = 16
    max_time            = '240.h'
    
    // Boilerplate options
    help                = false
    publish_dir_mode    = 'copy'
    
    // Container paths
    singularity_pull_docker_container = false
}

// Load base.config by default for all pipelines
includeConfig 'conf/base.config'

profiles {
    debug {
        dumpHashes      = true
        process.beforeScript = 'echo $HOSTNAME'
    }
    docker {
        docker.enabled  = true
        docker.userEmulation = true
        singularity.enabled = false
        podman.enabled  = false
        shifter.enabled = false
        charliecloud.enabled = false
    }
    singularity {
        singularity.enabled    = true
        singularity.autoMounts = true
        docker.enabled         = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
    }
    test {
        includeConfig 'conf/test.config'
    }
}


manifest {
    name            = 'Bismark-nf'
    author          = 'Nextflow Implementation Team'
    homePage        = 'https://github.com/username/Bismark-nf'
    description     = 'Bisulfite Mapper and Methylation Caller in Nextflow'
    mainScript      = 'main.nf'
    nextflowVersion = '>=21.10.3'
    version         = '0.1.0'
}